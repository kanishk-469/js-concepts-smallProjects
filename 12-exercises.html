<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced funtion exercises(Part-1)</title>
</head>
<body>
  <button class="js-start-finished-btn" style="font-size: 17px;padding:7px;cursor:pointer;"
  onclick="changeBtnText();">Start</button>
  
  <hr>
  <button style="font-size: 17px;padding:7px;cursor:pointer;" class="js-add-to-cart-btn" onclick="itemAdded()">Add to cart</button>
  <div></div>
  <hr>
  <button style="font-size: 17px;padding:7px;cursor:pointer;" onclick="
   messages++;
   displayNotification();
   ">Add</button>

  <button style="font-size: 17px;padding:7px;cursor:pointer;" onclick="
  if (messages > 0) {
        messages--;

        // If there are no new messages, stop displaying
        // the notification in the tab.
        if (messages === 0) {
          stopNotification();
        }
   }">Remove</button>


  <script>
    /*12a*/
    const add = function(){    // functions in JS are values so we can store inside variables.
      console.log(2+3);
    }
    add();
    add();
  
    console.log('-----------------------------------')

    /*12b*/
    function runTwice(fun){
      fun();
      fun();

    }
    runTwice(function(){
      console.log('12b');
    })
    runTwice(add)
   
    console.log('-----------------------------------')
    /*12c*/
    // const startBtn = document.querySelector('.js-start-finished-btn');
    // const changeBtnText = function(){
    //   setTimeout(function(){
    //     // startBtn.textContent = 'Finished';
    //     startBtn.innerHTML = 'Finished!';
    //   },1000)
    // }
    // startBtn.addEventListener('click', function(){
    //   setTimeout(function(){
    //     startBtn.textContent = 'Finished';
    //   },1000)
      
    // })

    /*12d*/
    const startBtn = document.querySelector('.js-start-finished-btn');

    const changeBtnText = function(){
    startBtn.innerHTML = 'Loading...';

      setTimeout(function(){
        startBtn.innerHTML = 'Finished!';
      },1000)
    }

    /*12e,12f*/
    const addToCartBtn = document.querySelector('.js-add-to-cart-btn');
    const div = document.querySelector('div');
    let timeoutId;
    function itemAdded(){
      div.innerHTML = `
      <p style="font-size:22px;color:green;">Added</p>`;


      // First, cancel the previous timeout so that
      // it doesn't remove the message too quickly.
      clearTimeout(timeoutId);

      timeoutId =  setTimeout(function(){
        div.innerHTML = '';
      },2000);

      console.log(timeoutId);
    }

    /*12g,12h,12i*/
  let messages = 2;

// Save the intervalId in case we need to cancel it.
let intervalId;

// We'll use this variable to keep track of whether
// or not we're displaying the notification.
let isDisplayingNotification;

// Start displaying the notification in the tab
// when the page first loads.
displayNotification();

function displayNotification() {
  // If we're already displaying the notification,
  // stop this function because we don't want to
  // create 2 intervals at the same time.
  if (isDisplayingNotification) {
    return;
  }

  isDisplayingNotification = true;

  intervalId = setInterval(function() {
    if (document.title === 'App') {
      document.title = `(${messages}) New messages`;
    } else {
      document.title = 'App';
    }
  }, 1000);
}

function stopNotification() {
  isDisplayingNotification = false;

  clearInterval(intervalId);
  document.title = 'App';
}

/*12j,12k */
const multiply = (num1, num2) => num1 * num2;

console.log(multiply(10,7));
console.log(multiply(2,3));
console.log('-----------------------------');

/*12l*/
function countPositive(nums){

// When there is only 1 parameter,
// the brackets are optional. So
// we can also write: num => { ... }

let count = 0;
 nums.forEach((value,index)=>{
  
   if(value > 0 ){
     count++;
   }
});
return count;
}
console.log(countPositive([1, -3, 5]));
console.log(countPositive([-2, 3, -5, 7, 10]));
console.log('-----------------------------');

/*12m*/
 const addNum = function(array,num){
  // When there is only 1 parameter,
  // the brackets are optional. So we
  // can also write: value => value + num
    return  array.map(value => value + num );
 }
 console.log(addNum([1, 2, 3], 2));
 console.log(addNum([-2, -1, 0, 99], 2));

 /*12n*/
 const removeEgg = foods =>{
  //  const food =  foods.filter(food => {
  //     if(food !== 'egg'){
  //       return food;
  //     }
  //   });
  //   return food;

    // If food is 'egg', the inner function returns false
    //   and the food is not included in the result.
    // Otherwise, the inner function returns true
    //   and the food is included in the result. 
    return foods.filter((food) => food !== 'egg');
 }
 console.log(removeEgg(['egg','apple','egg','egg','ham']));

/*12o*/
function removeFirstTwoEgg(foods){
  let eggRemoved = 0;
   const result = foods.filter((food)=>{
     // If the food is 'egg', we should return false
    // but only if we haven't removed 2 eggs already.
    if(food === 'egg' && eggRemoved < 2){
      eggRemoved++;
      return false;
    }

      return true;
    
   });
   return result;
}
console.log(removeFirstTwoEgg(['egg','apple','egg','egg','ham']));

/*I can do both 12p and 12q */

/* Challenge Exercises*/
/*12r and 12s already done*/
/* 12t go to 12-rock-paper-scissor.js*/











  </script>
  
</body>
</html>